# Chapter 11. 한계와 보완 전략

SCSS는 강력한 스타일링 전처리기이지만, 모든 상황에 완벽하진 않습니다. 이 장에서는 SCSS의 구조적 한계를 살펴보고, CSS 변수, JS 연동 등과의 병행 전략을 통해 실무에서 어떻게 이를 극복할 수 있는지 제안합니다.

---

## 11.1 SCSS의 주요 한계

### ❌ 런타임 동작 불가

- SCSS는 **컴파일 타임**에 모든 스타일을 결정합니다.
- 브라우저 상에서 조건적으로 값을 바꾸는 **런타임 반응**이 어렵습니다.

> ✅ 해결: CSS 변수(`--var`)와 `calc()`를 병행하여 동적 스타일 구성

---

### ❌ JS 데이터 연동 불가

- JS의 변수나 상태를 SCSS에서 직접 사용할 수 없음
- 반응형 테마, 모드 변경 등에 한계

> ✅ 해결: JS에서 CSS 변수를 변경하거나 HTML 속성(`data-theme`)을 활용

```js
document.documentElement.setAttribute("data-theme", "dark");
```

---

### ❌ 복잡한 중첩과 전역 오염

- 깊은 중첩은 디버깅과 유지보수를 어렵게 만듦
- `@import` 사용 시 변수, 믹스인 전역 오염 문제

> ✅ 해결:
- `@use`로 네임스페이스 관리
- 중첩은 최대 3~4단계로 제한

---

### ❌ 타입 시스템 부재

- 숫자, 색상 등은 타입 검사가 없고 실수 유입 가능

> ✅ 해결:
- `@function` 내부에 `@if unitless()` 등 조건문 적극 활용

```scss
@function px-to-rem($px) {
  @if unit($px) != "px" {
    @error "px 단위만 허용됩니다.";
  }
  @return $px / 16 * 1rem;
}
```

---

## 11.2 CSS 변수와 병행 전략

```scss
:root {
  --gap: 1rem;
}

.container {
  gap: var(--gap);
}
```

> 디자인 토큰을 CSS 변수로 정의하고 SCSS에서는 fallback 또는 로직용으로 활용

---

## 11.3 유지보수 전략

| 전략 항목       | 제안 방식 |
|----------------|-----------|
| 전역 변수 관리 | `abstracts/_variables.scss` 분리 |
| 복잡한 믹스인  | 용도별로 분해 및 주석화 |
| 레거시 @import 제거 | `@use` / `@forward` 구조로 이관 |
| 문서화         | 폴더별 README, 주석, Storybook 등 연동 |

---

## 11.4 SCSS vs CSS-in-JS

| 항목         | SCSS              | CSS-in-JS (예: styled-components) |
|--------------|-------------------|-----------------------------------|
| 런타임 제어   | ❌ 컴파일 시 결정   | ✅ JS 변수, 조건에 따라 실시간 제어 |
| 글로벌 관리   | ✅ 쉬움             | ❌ 어려움 (스코프 좁음)           |
| 성능          | ✅ 빠름            | ⚠️ 컴포넌트 수 많으면 느릴 수 있음 |
| 도입 난이도   | 낮음               | 중간~높음                          |

---

## 11.5 결론

- SCSS는 매우 강력하지만, **JS 반응성이나 타입 안정성**에서는 한계가 있음
- 이를 보완하기 위해 **CSS 변수와 JS 속성 제어**를 병행하는 전략이 필요
- 프로젝트 규모가 커질수록 모듈화, 문서화, 설계 규칙이 중요해짐

➡️ 다음은 마지막 장, 자주 묻는 질문과 참고자료입니다.